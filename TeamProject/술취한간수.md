## 문제
열쇠로 잠긴 독방 N개가 있습니다.   
간수는 위스키를 N잔 마시는데 1잔째 마셨을 때 모든 독방 (N개)의 문을 열어 버립니다.  
2잔째를 마셨을 때는 2, 4, 6… 번째 독방에서 A: 문이 잠겨 있으면 열고, B: 문이 열려 있으면 잠급니다.  
3잔째를 마시면 3, 6, 9…번째 독방에서 A/B 행동을 합니다.   
4잔째에는 4, 8, 12…번째 독방에서 A/B라는 동작을 N번 반복해서 N잔째를 끝내면 술에 취해 곯아 떨어집니다.  
마지막에 남은 문이 열린 독방은 몇 개나 될까요?  

## 장치 사양
장치 이름	DESKTOP-K2RDRVC  
프로세서	11th Gen Intel(R) Core(TM) i7-1165G7 @ 2.80GHz   2.80 GHz  
설치된 RAM	16.0GB(15.8GB 사용 가능)  
장치 ID	0C14B162-B549-4028-931A-2FE6AEB70CA1  
제품 ID	00326-10000-00000-AA519  
시스템 종류	64비트 운영 체제, x64 기반 프로세서  
펜 및 터치	이 디스플레이에 사용할 수 있는 펜 또는 터치식 입력이 없습니다.  

Windows 10 Home  

## 순서도
![image](https://github.com/gryrryfh/Algorithm/assets/50912987/2cfc2da3-3d40-453c-b471-3f95c51f8853)




## 코드
```C++

#include <iostream>
#include <chrono>
#include <vector>
using namespace std;
using namespace chrono;

int main() {
    system_clock::time_point start_time = system_clock::now();
    int N;
    cin >> N;

    vector<int> array(N, 0);  // Initialize a vector of size N with all elements set to 0

    for (int i = 1; i <= N; i++) {
        for (int j = i; j <= N; j += i) {
            array[j - 1] = 1 - array[j - 1];
        }
    }

    for (int i = 0; i < N; i++) {
        if (array[i] == 1) {
            cout << i + 1 << "번째 방은 열려 있습니다." << endl;
        }
        else {
            cout << i + 1 << "번째 방은 잠겨 있습니다." << endl;
        }
    }

    system_clock::time_point end_time = system_clock::now();
    nanoseconds nano = end_time - start_time;
    cout << "걸린 시간: " << nano.count() << "ns" << endl;

    return 0;
}
```
![image](https://github.com/gryrryfh/Algorithm/assets/50912987/de197f66-8116-47cf-95a8-fd365242ef18)
![image](https://github.com/gryrryfh/Algorithm/assets/50912987/7476cffc-934f-49c3-b814-49b366f7bc2d)




### 1차 개선
```C++
#include <iostream>
#include <vector>
#include <chrono>
using namespace std;
using namespace chrono;
int main() {
    system_clock::time_point start_time = system_clock::now();
    int N;
    cout << "독방의 수 : ";
    cin >> N;

    vector<int> room(N + 1, 0);

    for (int i = 1; i <= N; i++) {
        for (int j = i; j <= N; j += i) {
            room[j] = !room[j];
        }
    }

    int open_room = 0;

    for (int i = 1; i <= N; ++i) {
        if (room[i])
            open_room++;
    }
    system_clock::time_point end_time = system_clock::now();
    nanoseconds nano = end_time - start_time;
    cout << "열린 방의 수 : " << open_room << "\n";

    cout << "걸린시간" << nano.count() << "nanoseconds" << endl;
    return 0;

}


```
![image](https://github.com/gryrryfh/Algorithm/assets/50912987/bb975ad8-bf2d-46c2-a65d-8fcd1d69c0a2)
![image](https://github.com/gryrryfh/Algorithm/assets/50912987/9c5aec65-1619-4935-8202-d617aab189a8)
![image](https://github.com/gryrryfh/Algorithm/assets/50912987/4ca7201c-1f64-4f31-9f56-c5ecfc3e67c9)



### 2차 개선
```C++
#include <iostream>
#include <vector>
#include <chrono>
using namespace std;
using namespace chrono;

int main() {
    system_clock::time_point start_time = system_clock::now();
    int N;
    cout << "독방의 수 : ";
    cin >> N;

    vector<int> room(N + 1, 0);

    int open_room = 0;

    for (int i = 1; i <= N; i++) {
        for (int j = i; j <= N; j += i) {
            room[j] = !room[j];
        }
        open_room += room[i];
    }
    system_clock::time_point end_time = system_clock::now();
    nanoseconds nano = end_time - start_time;
    cout << "열린 방의 수 : " << open_room << "\n";
    cout << "걸린 시간 : " << nano.count() << "ns\n";
    return 0;
}
```
![image](https://github.com/gryrryfh/Algorithm/assets/50912987/4545eecd-6d27-4a63-958a-5bff02964243)
![image](https://github.com/gryrryfh/Algorithm/assets/50912987/3adea2fc-582a-4438-b894-54e8f702a8e8)
![image](https://github.com/gryrryfh/Algorithm/assets/50912987/c0b180f8-cdf9-4949-aed9-3377fd0363d7)





### 3차 개선
```C++
#include <iostream>
#include <cmath>
#include <chrono>
using namespace std;
using namespace chrono;

int main() {
    system_clock::time_point start_time = system_clock::now();
    int N;
    cout << "독방의 수 : ";
    cin >> N;

    int open_room = static_cast<int>(sqrt(N));

    cout << "열린 방의 수 : " << open_room << "\n";
    system_clock::time_point end_time = system_clock::now();
    nanoseconds nano = end_time - start_time;
    cout << "걸린 시간 : " << nano.count() << "ns\n";
    return 0;
}

```
![image](https://github.com/gryrryfh/Algorithm/assets/50912987/1fd4f79b-899f-4f56-aa3f-0cf384293fb9)
![image](https://github.com/gryrryfh/Algorithm/assets/50912987/ad5753ad-9ce9-418a-9d93-fe5688dd59c6)
![image](https://github.com/gryrryfh/Algorithm/assets/50912987/3fbc5084-99ce-455e-8be4-a2e0c990f7ed)




## 설명
전체 독방 수의 제곱근 정도가 열린 방의 수
